{"ast":null,"code":"import { types } from '../core/constants';\nimport * as callApi from '../utils/apiCaller';\nexport const login = user => ({\n  type: types.LOGIN,\n  user\n});\nexport const loginErr = err => ({\n  type: types.LOGIN_ERR,\n  err\n});\nexport const loginFbRequest = data => {\n  return dispatch => {\n    return callApi.callApiLoginFb(data).then(res => {\n      localStorage.setItem('usertoken', res.data.token);\n      dispatch(login(res.data));\n      if (res.data.activated === false) dispatch(setLogintype(\"facebook\"));\n    }).catch(err => {\n      dispatch(loginErr(err.response.data));\n    });\n  };\n};\nexport const loginGgRequest = data => {\n  return dispatch => {\n    return callApi.callApiLoginGg(data).then(res => {\n      localStorage.setItem('usertoken', res.data.token);\n      dispatch(login(res.data));\n      if (res.data.activated === false) dispatch(setLogintype(\"google\"));\n    }).catch(err => {\n      dispatch(loginErr(err.response.data));\n    });\n  };\n};\nexport const logout = () => ({\n  type: types.LOGOUT\n});\nexport const loginRequest = user => {\n  return dispatch => {\n    return callApi.callApiLogin(user).then(res => {\n      console.log(res.data);\n      localStorage.setItem('usertoken', res.data.token);\n      dispatch(login(res.data.user));\n    }).catch(err => {\n      dispatch(loginErr(err.response.data.message));\n    });\n  };\n};\nexport const getUser = () => {\n  return dispatch => {\n    return callApi.callApiGetInfo().then(res => {\n      dispatch(login(res.data));\n    }).catch(err => {\n      console.log(err);\n      dispatch(logOut());\n    });\n  };\n};\nexport const logOut = () => {\n  return dispatch => {\n    localStorage.removeItem('usertoken');\n    dispatch(logout());\n  };\n};\nexport const setCurrent = number => ({\n  type: types.SET_CURRENT,\n  number\n});\nexport const setLogintype = logintype => ({\n  type: types.SET_LOGINTYPE,\n  logintype\n});\nexport const setId = id => ({\n  type: types.SET_ID,\n  id\n});","map":{"version":3,"sources":["C:/Users/ad/Desktop/tutor-client-master/tutor-client-master/src/actions/index.js"],"names":["types","callApi","login","user","type","LOGIN","loginErr","err","LOGIN_ERR","loginFbRequest","data","dispatch","callApiLoginFb","then","res","localStorage","setItem","token","activated","setLogintype","catch","response","loginGgRequest","callApiLoginGg","logout","LOGOUT","loginRequest","callApiLogin","console","log","message","getUser","callApiGetInfo","logOut","removeItem","setCurrent","number","SET_CURRENT","logintype","SET_LOGINTYPE","setId","id","SET_ID"],"mappings":"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","sourcesContent":["import { types } from '../core/constants';\r\nimport * as callApi from '../utils/apiCaller';\r\n\r\nexport const login = user => ({\r\n    type: types.LOGIN,\r\n    user\r\n  });\r\n  export const loginErr = err => ({\r\n    type: types.LOGIN_ERR,\r\n    err\r\n  });\r\n  export const loginFbRequest = data => {\r\n    return dispatch => {\r\n      return callApi\r\n        .callApiLoginFb(data)\r\n        .then(res => {\r\n          localStorage.setItem('usertoken', res.data.token);\r\n          dispatch(login(res.data));\r\n          if (res.data.activated === false) dispatch(setLogintype(\"facebook\"));\r\n        })\r\n        .catch(err => {\r\n          dispatch(loginErr(err.response.data));\r\n        });\r\n    };\r\n  };\r\n  export const loginGgRequest = data => {\r\n    return dispatch => {\r\n      return callApi\r\n        .callApiLoginGg(data)\r\n        .then(res => {\r\n          localStorage.setItem('usertoken', res.data.token);\r\n          dispatch(login(res.data));\r\n          if (res.data.activated === false) dispatch(setLogintype(\"google\"));\r\n        })\r\n        .catch(err => {\r\n          dispatch(loginErr(err.response.data));\r\n        });\r\n    };\r\n  };\r\n  export const logout = () => ({\r\n    type: types.LOGOUT\r\n  });\r\n  export const loginRequest = user => {\r\n    return dispatch => {\r\n      return callApi\r\n        .callApiLogin(user)\r\n        .then(res => {\r\n          console.log(res.data);\r\n          localStorage.setItem('usertoken', res.data.token);\r\n          dispatch(login(res.data.user));\r\n        })\r\n        .catch(err => {\r\n          dispatch(loginErr(err.response.data.message));\r\n        });\r\n    };\r\n  };\r\n  \r\n  export const getUser = () => {\r\n    return dispatch => {\r\n      return callApi\r\n        .callApiGetInfo()\r\n        .then(res => {\r\n          dispatch(\r\n            login(res.data)\r\n          );\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n          dispatch(\r\n           logOut()\r\n          );\r\n        });\r\n    };\r\n  };\r\n  export const logOut = () => {\r\n    return dispatch => {\r\n      localStorage.removeItem('usertoken');\r\n      dispatch(logout());\r\n    };\r\n  };\r\n  export const setCurrent = number => ({\r\n    type: types.SET_CURRENT,\r\n    number\r\n  });\r\n  export const setLogintype = logintype => ({\r\n    type: types.SET_LOGINTYPE,\r\n    logintype\r\n  }); \r\n  export const setId = id => ({\r\n    type: types.SET_ID,\r\n    id\r\n  }); "]},"metadata":{},"sourceType":"module"}