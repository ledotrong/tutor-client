{"ast":null,"code":"import { types } from '../core/constants';\nimport * as callApi from '../utils/apiCaller';\nexport const login = user => ({\n  type: types.LOGIN,\n  user\n});\nexport const loginErr = err => ({\n  type: types.LOGIN_ERR,\n  err\n});\nexport const loginFbRequest = data => {\n  return dispatch => {\n    return callApi.callApiLoginFb(data).then(res => {\n      localStorage.setItem('usertoken', res.data.token);\n      console.log(\"res.data\", res.data);\n      if (res.data.activated === false) dispatch(setLogintype(\"facebook\"));\n      dispatch(login(res.data));\n    }).catch(err => {\n      dispatch(loginErr(err.response));\n    });\n  };\n};\nexport const loginGgRequest = data => {\n  return dispatch => {\n    return callApi.callApiLoginGg(data).then(res => {\n      localStorage.setItem('usertoken', res.data.token);\n      if (res.data.activated === false) dispatch(setLogintype(\"google\"));\n      dispatch(login(res.data));\n    }).catch(err => {\n      dispatch(loginErr(err.response.data));\n    });\n  };\n};\nexport const logout = () => ({\n  type: types.LOGOUT\n});\nexport const loginRequest = user => {\n  return dispatch => {\n    return callApi.callApiLogin(user).then(res => {\n      console.log(res.data);\n      localStorage.setItem('usertoken', res.data.token);\n      dispatch(login(res.data.user));\n      console.log(\"token\", localStorage.getItem('usertoken'));\n    }).catch(err => {\n      dispatch(loginErr(err.response.data.message));\n    });\n  };\n};\nexport const getUser = () => {\n  return dispatch => {\n    return callApi.callApiGetInfo().then(res => {\n      dispatch(login(res.data));\n    }).catch(err => {\n      console.log(err);\n      dispatch(logOut());\n    });\n  };\n};\nexport const logOut = () => {\n  return dispatch => {\n    localStorage.removeItem('usertoken');\n    dispatch(logout());\n  };\n};\nexport const setCurrent = number => ({\n  type: types.SET_CURRENT,\n  number\n});\nexport const setLogintype = logintype => ({\n  type: types.SET_LOGINTYPE,\n  logintype\n});\nexport const setId = id => ({\n  type: types.SET_ID,\n  id\n});","map":{"version":3,"sources":["C:/Users/ad/Desktop/tutor-client-master/tutor-client-master/src/actions/index.js"],"names":["types","callApi","login","user","type","LOGIN","loginErr","err","LOGIN_ERR","loginFbRequest","data","dispatch","callApiLoginFb","then","res","localStorage","setItem","token","console","log","activated","setLogintype","catch","response","loginGgRequest","callApiLoginGg","logout","LOGOUT","loginRequest","callApiLogin","getItem","message","getUser","callApiGetInfo","logOut","removeItem","setCurrent","number","SET_CURRENT","logintype","SET_LOGINTYPE","setId","id","SET_ID"],"mappings":"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","sourcesContent":["import { types } from '../core/constants';\r\nimport * as callApi from '../utils/apiCaller';\r\n\r\nexport const login = user => ({\r\n    type: types.LOGIN,\r\n    user\r\n  });\r\n  export const loginErr = err => ({\r\n    type: types.LOGIN_ERR,\r\n    err\r\n  });\r\n  export const loginFbRequest = data => {\r\n    return dispatch => {\r\n      return callApi\r\n        .callApiLoginFb(data)\r\n        .then(res => {\r\n          localStorage.setItem('usertoken', res.data.token);\r\n          console.log(\"res.data\", res.data);\r\n          if (res.data.activated === false) dispatch(setLogintype(\"facebook\"));\r\n          dispatch(login(res.data));\r\n          \r\n        })\r\n        .catch(err => {\r\n          dispatch(loginErr(err.response));\r\n        });\r\n    };\r\n  };\r\n  export const loginGgRequest = data => {\r\n    return dispatch => {\r\n      return callApi\r\n        .callApiLoginGg(data)\r\n        .then(res => {\r\n          localStorage.setItem('usertoken', res.data.token);\r\n          if (res.data.activated === false) dispatch(setLogintype(\"google\"));\r\n          dispatch(login(res.data));\r\n          \r\n        })\r\n        .catch(err => {\r\n          dispatch(loginErr(err.response.data));\r\n        });\r\n    };\r\n  };\r\n  export const logout = () => ({\r\n    type: types.LOGOUT\r\n  });\r\n  export const loginRequest = user => {\r\n    return dispatch => {\r\n      return callApi\r\n        .callApiLogin(user)\r\n        .then(res => {\r\n          console.log(res.data);\r\n          localStorage.setItem('usertoken', res.data.token);\r\n\r\n          dispatch(login(res.data.user));\r\n          console.log(\"token\",localStorage.getItem('usertoken'));\r\n        })\r\n        .catch(err => {\r\n          dispatch(loginErr(err.response.data.message));\r\n        });\r\n    };\r\n  };\r\n  \r\n  export const getUser = () => {\r\n    return dispatch => {\r\n      return callApi\r\n        .callApiGetInfo()\r\n        .then(res => {\r\n          dispatch(\r\n            login(res.data)\r\n          );\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n          dispatch(\r\n           logOut()\r\n          );\r\n        });\r\n    };\r\n  };\r\n  export const logOut = () => {\r\n    return dispatch => {\r\n      localStorage.removeItem('usertoken');\r\n      dispatch(logout());\r\n    };\r\n  };\r\n  export const setCurrent = number => ({\r\n    type: types.SET_CURRENT,\r\n    number\r\n  });\r\n  export const setLogintype = logintype => ({\r\n    type: types.SET_LOGINTYPE,\r\n    logintype\r\n  }); \r\n  export const setId = id => ({\r\n    type: types.SET_ID,\r\n    id\r\n  }); "]},"metadata":{},"sourceType":"module"}