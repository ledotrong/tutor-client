{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ad\\\\Desktop\\\\tutor-client-master\\\\tutor-client-master\\\\src\\\\components\\\\RegisterFB_GG.js\";\nimport React from 'react';\nimport { withRouter, Redirect } from 'react-router-dom';\nimport { Form, Input, Button, Modal, Tag, Tooltip, Icon, Radio } from 'antd';\nimport * as callApi from '../utils/apiCaller';\nimport bg01 from '../image/bg01.jpg';\n\nconst callback = function () {};\n\nconst expiredCallback = function () {};\n\nclass RegisterFbGg extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.registerRequest = e => {\n      e.preventDefault();\n      const _this$props = this.props,\n            logintype = _this$props.logintype,\n            getUser = _this$props.getUser;\n      const user = {\n        role: this.state.role,\n        address: document.getElementById('address').value,\n        skills: this.state.tags\n      };\n\n      if (logintype === 'facebook') {\n        return callApi.callApiRegisterFb(user).then(() => {\n          getUser();\n          this.success();\n        }).catch(err => {\n          console.log(err);\n          document.getElementById('msg').innerHTML = err.response.data;\n        });\n      } else return callApi.callApiRegisterGg(user).then(() => {\n        getUser();\n        this.success();\n      }).catch(err => {\n        console.log(err);\n        document.getElementById('msg').innerHTML = err.response.data.error;\n      });\n    };\n\n    this.handleConfirmBlur = e => {\n      const value = e.target.value;\n      this.setState({\n        confirmDirty: this.state.confirmDirty || !!value\n      });\n    };\n\n    this.compareToFirstPassword = (rule, value, callback) => {\n      const form = this.props.form;\n\n      if (value && value !== form.getFieldValue('password')) {\n        callback('Two passwords that you enter is inconsistent!');\n      } else {\n        callback();\n      }\n    };\n\n    this.validateToNextPassword = (rule, value, callback) => {\n      const form = this.props.form;\n\n      if (value && this.state.confirmDirty) {\n        form.validateFields(['confirm'], {\n          force: true\n        });\n      }\n\n      callback();\n    };\n\n    this.onChange = e => {\n      console.log('radio checked', e.target.value);\n      this.setState({\n        role: e.target.value\n      });\n    };\n\n    this.handleClose = removedTag => {\n      const tags = this.state.tags.filter(tag => tag !== removedTag);\n      console.log(tags);\n      this.setState({\n        tags\n      });\n    };\n\n    this.showInput = () => {\n      this.setState({\n        inputVisible: true\n      }, () => this.input.focus());\n    };\n\n    this.handleInputChange = e => {\n      this.setState({\n        inputValue: e.target.value\n      });\n    };\n\n    this.handleInputConfirm = () => {\n      const inputValue = this.state.inputValue;\n      let tags = this.state.tags;\n\n      if (inputValue && tags.indexOf(inputValue) === -1) {\n        tags = [...tags, inputValue];\n      }\n\n      console.log(tags);\n      this.setState({\n        tags,\n        inputVisible: false,\n        inputValue: ''\n      });\n    };\n\n    this.saveInputRef = input => this.input = input;\n\n    this.handleWebsiteChange = value => {\n      let autoCompleteResult;\n\n      if (!value) {\n        autoCompleteResult = [];\n      } else {\n        autoCompleteResult = ['.com', '.org', '.net'].map(domain => \"\".concat(value).concat(domain));\n      }\n\n      this.setState({\n        autoCompleteResult\n      });\n    };\n\n    this.state = {\n      confirmDirty: false,\n      autoCompleteResult: [],\n      tags: [],\n      inputVisible: false,\n      inputValue: '',\n      role: null\n    };\n  }\n\n  changeDirect() {\n    console.log(this.props);\n    this.props.history.push('/');\n  }\n\n  success() {\n    Modal.success({\n      title: 'Success',\n      content: 'Create Account Success',\n      onOk: () => {\n        this.changeDirect();\n      }\n    });\n  }\n\n  render() {\n    const getFieldDecorator = this.props.form.getFieldDecorator;\n    const _this$state = this.state,\n          tags = _this$state.tags,\n          inputVisible = _this$state.inputVisible,\n          inputValue = _this$state.inputValue;\n    const _this$props2 = this.props,\n          name = _this$props2.name,\n          email = _this$props2.email,\n          logintype = _this$props2.logintype,\n          getUser = _this$props2.getUser;\n    const formItemLayout = {\n      labelCol: {\n        xs: {\n          span: 24\n        },\n        sm: {\n          span: 7\n        }\n      },\n      wrapperCol: {\n        xs: {\n          span: 24\n        },\n        sm: {\n          span: 17\n        }\n      }\n    };\n    const tailFormItemLayout = {\n      wrapperCol: {\n        xs: {\n          span: 24,\n          offset: 0\n        },\n        sm: {\n          span: 16,\n          offset: 8\n        }\n      }\n    };\n    getUser();\n\n    if (email === null || logintype === null) {\n      return React.createElement(Redirect, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      className: \"container-login100\",\n      style: {\n        backgroundImage: \"url(\".concat(bg01, \")\")\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"wrap-register100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"login100-form-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, \"REGISTER\"), React.createElement(\"div\", {\n      className: \"register100-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(Form, Object.assign({}, formItemLayout, {\n      onSubmit: this.registerRequest,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      id: \"msg\",\n      style: {\n        color: 'red'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }), React.createElement(Form.Item, {\n      label: \"Name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, getFieldDecorator('name', {\n      rules: []\n    })(React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, name))), React.createElement(Form.Item, {\n      label: \"Email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, getFieldDecorator('email', {\n      rules: []\n    })(React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, email))), React.createElement(Form.Item, {\n      label: \"Role\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, getFieldDecorator('role', {\n      rules: []\n    })(React.createElement(Radio.Group, {\n      onChange: this.onChange,\n      value: this.state.role,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, React.createElement(Radio, {\n      value: \"tutor\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, \"Tutor\"), React.createElement(Radio, {\n      value: \"student\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, \"Student\")))), React.createElement(Form.Item, {\n      label: \"Address\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, getFieldDecorator('address', {\n      rules: []\n    })(React.createElement(Input, {\n      id: \"address\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }))), React.createElement(Form.Item, {\n      label: \"Skills\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, getFieldDecorator('skills', {\n      rules: []\n    })(React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, tags.map((tag, index) => {\n      const isLongTag = tag.length > 20;\n      const tagElem = React.createElement(Tag, {\n        key: tag,\n        closable: index !== 0,\n        onClose: () => this.handleClose(tag),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, isLongTag ? \"\".concat(tag.slice(0, 20), \"...\") : tag);\n      return isLongTag ? React.createElement(Tooltip, {\n        title: tag,\n        key: tag,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, tagElem) : tagElem;\n    }), inputVisible && React.createElement(Input, {\n      ref: this.saveInputRef,\n      type: \"text\",\n      size: \"small\",\n      style: {\n        width: 78\n      },\n      value: inputValue,\n      onChange: this.handleInputChange,\n      onBlur: this.handleInputConfirm,\n      onPressEnter: this.handleInputConfirm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }), !inputVisible && React.createElement(Tag, {\n      onClick: this.showInput,\n      style: {\n        background: '#fff',\n        borderStyle: 'dashed'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      type: \"plus\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }), \" New Tag\")))), React.createElement(Form.Item, Object.assign({}, tailFormItemLayout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }), React.createElement(Button, {\n      type: \"primary\",\n      htmlType: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }, \"Done\"))))));\n  }\n\n}\n\nconst RegisterFbGgForm = Form.create({})(RegisterFbGg);\nexport { RegisterFbGgForm };\nexport default withRouter(RegisterFbGgForm);","map":{"version":3,"sources":["C:/Users/ad/Desktop/tutor-client-master/tutor-client-master/src/components/RegisterFB_GG.js"],"names":["React","withRouter","Redirect","Form","Input","Button","Modal","Tag","Tooltip","Icon","Radio","callApi","bg01","callback","expiredCallback","RegisterFbGg","Component","constructor","props","registerRequest","e","preventDefault","logintype","getUser","user","role","state","address","document","getElementById","value","skills","tags","callApiRegisterFb","then","success","catch","err","console","log","innerHTML","response","data","callApiRegisterGg","error","handleConfirmBlur","target","setState","confirmDirty","compareToFirstPassword","rule","form","getFieldValue","validateToNextPassword","validateFields","force","onChange","handleClose","removedTag","filter","tag","showInput","inputVisible","input","focus","handleInputChange","inputValue","handleInputConfirm","indexOf","saveInputRef","handleWebsiteChange","autoCompleteResult","map","domain","changeDirect","history","push","title","content","onOk","render","getFieldDecorator","name","email","formItemLayout","labelCol","xs","span","sm","wrapperCol","tailFormItemLayout","offset","backgroundImage","color","rules","index","isLongTag","length","tagElem","slice","width","background","borderStyle","RegisterFbGgForm","create"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { withRouter, Redirect } from 'react-router-dom';\r\nimport { Form, Input, Button, Modal, Tag, Tooltip, Icon, Radio } from 'antd';\r\nimport * as callApi from '../utils/apiCaller';\r\nimport bg01 from '../image/bg01.jpg';\r\n\r\nconst callback = function() {};\r\nconst expiredCallback = function() {};\r\n\r\nclass RegisterFbGg extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      confirmDirty: false,\r\n      autoCompleteResult: [],\r\n      tags: [],\r\n    inputVisible: false,\r\n    inputValue: '',\r\n    role: null\r\n    };\r\n  }\r\n\r\n  registerRequest = e => {\r\n    e.preventDefault();\r\n    const {logintype, getUser} = this.props;\r\n    const user = {\r\n      role: this.state.role,\r\n      address: document.getElementById('address').value,\r\n      skills: this.state.tags\r\n    };\r\n    if (logintype === 'facebook') {\r\n      return callApi\r\n        .callApiRegisterFb(user)\r\n        .then(() => {\r\n            getUser();\r\n          this.success();\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n          document.getElementById('msg').innerHTML = err.response.data;\r\n        });\r\n    }\r\n    else return callApi\r\n    .callApiRegisterGg(user)\r\n    .then(() => {\r\n        getUser();\r\n      this.success();\r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n      document.getElementById('msg').innerHTML = err.response.data.error;\r\n    });\r\n  };\r\n\r\n  handleConfirmBlur = e => {\r\n    const { value } = e.target;\r\n    this.setState({ confirmDirty: this.state.confirmDirty || !!value });\r\n  };\r\n\r\n  compareToFirstPassword = (rule, value, callback) => {\r\n    const { form } = this.props;\r\n    if (value && value !== form.getFieldValue('password')) {\r\n      callback('Two passwords that you enter is inconsistent!');\r\n    } else {\r\n      callback();\r\n    }\r\n  };\r\n\r\n  validateToNextPassword = (rule, value, callback) => {\r\n    const { form } = this.props;\r\n    if (value && this.state.confirmDirty) {\r\n      form.validateFields(['confirm'], { force: true });\r\n    }\r\n    callback();\r\n  };\r\n  onChange = e => {\r\n    console.log('radio checked', e.target.value);\r\n    this.setState({\r\n      role: e.target.value,\r\n    });\r\n  };\r\n  handleClose = removedTag => {\r\n    const tags = this.state.tags.filter(tag => tag !== removedTag);\r\n    console.log(tags);\r\n    this.setState({ tags });\r\n  };\r\n\r\n  showInput = () => {\r\n    this.setState({ inputVisible: true }, () => this.input.focus());\r\n  };\r\n\r\n  handleInputChange = e => {\r\n    this.setState({ inputValue: e.target.value });\r\n  };\r\n\r\n  handleInputConfirm = () => {\r\n    const { inputValue } = this.state;\r\n    let { tags } = this.state;\r\n    if (inputValue && tags.indexOf(inputValue) === -1) {\r\n      tags = [...tags, inputValue];\r\n    }\r\n    console.log(tags);\r\n    this.setState({\r\n      tags,\r\n      inputVisible: false,\r\n      inputValue: '',\r\n    });\r\n  };\r\n  saveInputRef = input => (this.input = input);\r\n  handleWebsiteChange = value => {\r\n    let autoCompleteResult;\r\n    if (!value) {\r\n      autoCompleteResult = [];\r\n    } else {\r\n      autoCompleteResult = ['.com', '.org', '.net'].map(\r\n        domain => `${value}${domain}`\r\n      );\r\n    }\r\n    this.setState({ autoCompleteResult });\r\n  };\r\n\r\n  changeDirect() {\r\n    console.log(this.props);\r\n    this.props.history.push('/');\r\n  }\r\n\r\n  success() {\r\n    Modal.success({\r\n      title: 'Success',\r\n      content: 'Create Account Success',\r\n      onOk: () => {\r\n        this.changeDirect();\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { getFieldDecorator } = this.props.form;\r\n    const { tags, inputVisible, inputValue } = this.state;\r\n    const {name, email, logintype, getUser} = this.props;\r\n    const formItemLayout = {\r\n      labelCol: {\r\n        xs: { span: 24 },\r\n        sm: { span: 7 }\r\n      },\r\n      wrapperCol: {\r\n        xs: { span: 24 },\r\n        sm: { span: 17 }\r\n      }\r\n    };\r\n    const tailFormItemLayout = {\r\n      wrapperCol: {\r\n        xs: {\r\n          span: 24,\r\n          offset: 0\r\n        },\r\n        sm: {\r\n          span: 16,\r\n          offset: 8\r\n        }\r\n      }\r\n    };\r\n    getUser();\r\n    if (email === null || logintype === null) {\r\n        return <Redirect to=\"/login\" />;\r\n      }\r\n    return (\r\n      <div\r\n        className=\"container-login100\"\r\n        style={{ backgroundImage: `url(${bg01})` }}\r\n      >\r\n        <div className=\"wrap-register100\">\r\n          <h1 className=\"login100-form-title\">REGISTER</h1>\r\n          <div className=\"register100-form\">\r\n            <Form {...formItemLayout} onSubmit={this.registerRequest}>\r\n              <p id=\"msg\" style={{ color: 'red' }} />\r\n              <Form.Item label=\"Name\">\r\n                {getFieldDecorator('name', {\r\n                  rules: [\r\n                  ]\r\n                })(<span>{name}</span>)}\r\n              </Form.Item>\r\n              <Form.Item label=\"Email\">\r\n                {getFieldDecorator('email', {\r\n                  rules: [\r\n                  ]\r\n                })(<span>{email}</span>)}\r\n              </Form.Item>\r\n              <Form.Item label=\"Role\">\r\n               {getFieldDecorator('role', {\r\n                 rules: []\r\n               })(<Radio.Group onChange={this.onChange} value={this.state.role}>\r\n                <Radio value={\"tutor\"}>Tutor</Radio>\r\n                <Radio value={\"student\"}>Student</Radio>\r\n              </Radio.Group>)}\r\n             </Form.Item>\r\n             <Form.Item label=\"Address\">\r\n                    {getFieldDecorator('address', {\r\n                      rules: []\r\n                    })(<Input id=\"address\" />)}\r\n                  </Form.Item>\r\n                  <Form.Item label=\"Skills\">\r\n                    {getFieldDecorator('skills', {\r\n                      rules: []\r\n                    })(<div>\r\n                        {tags.map((tag, index) => {\r\n                          const isLongTag = tag.length > 20;\r\n                          const tagElem = (\r\n                            <Tag key={tag} closable={index !== 0} onClose={() => this.handleClose(tag)}>\r\n                              {isLongTag ? `${tag.slice(0, 20)}...` : tag}\r\n                            </Tag>\r\n                          );\r\n                          return isLongTag ? (\r\n                            <Tooltip title={tag} key={tag}>\r\n                              {tagElem}\r\n                            </Tooltip>\r\n                          ) : (\r\n                            tagElem\r\n                          );\r\n                        })}\r\n                        {inputVisible && (\r\n                          <Input\r\n                            ref={this.saveInputRef}\r\n                            type=\"text\"\r\n                            size=\"small\"\r\n                            style={{ width: 78 }}\r\n                            value={inputValue}\r\n                            onChange={this.handleInputChange}\r\n                            onBlur={this.handleInputConfirm}\r\n                            onPressEnter={this.handleInputConfirm}\r\n                          />\r\n                        )}\r\n                        {!inputVisible && (\r\n                          <Tag onClick={this.showInput} style={{ background: '#fff', borderStyle: 'dashed' }}>\r\n                            <Icon type=\"plus\" /> New Tag\r\n                          </Tag>\r\n                        )}\r\n                      </div>)}\r\n                  </Form.Item>\r\n              <Form.Item {...tailFormItemLayout}>\r\n                <Button type=\"primary\" htmlType=\"submit\">\r\n                  Done\r\n                </Button>\r\n              </Form.Item>\r\n            </Form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst RegisterFbGgForm = Form.create({})(RegisterFbGg);\r\n\r\nexport { RegisterFbGgForm };\r\nexport default withRouter(RegisterFbGgForm);\r\n"]},"metadata":{},"sourceType":"module"}