<<<<<<< HEAD
export const dangerousPropertyRegex = /^(constructor|__defineGetter__|__defineSetter__|__lookupGetter__|__proto__)$/;

=======
>>>>>>> a0d14a2497264e6566ee5a25b965f3a4adaa178d
export default function(instance) {
  instance.registerHelper('lookup', function(obj, field) {
    if (!obj) {
      return obj;
    }
<<<<<<< HEAD
    if (dangerousPropertyRegex.test(String(field)) && !Object.prototype.propertyIsEnumerable.call(obj, field)) {
=======
    if (field === 'constructor' && !obj.propertyIsEnumerable(field)) {
>>>>>>> a0d14a2497264e6566ee5a25b965f3a4adaa178d
      return undefined;
    }
    return obj[field];
  });
}
